{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Reserva - Restaurante</title>
    <link rel="stylesheet" href="{% static 'css/reservas/editar.css' %}">
</head>
<body>
    <div class="navigation">
        <a href="/reservas/">🍽️ Nueva Reserva</a>
        <a href="/reservas/consultar/">🔍 Consultar</a>
    </div>

    <div class="container">
        <div class="card">
            <div class="header">
                <h1>✏️ Editar Reserva</h1>
                <p>Modifica los datos de tu reserva</p>
            </div>

            <div class="info-original">
                <h4>📋 Datos Originales:</h4>
                <p><strong>Nombre:</strong> {{ reserva.nombre_completo }}</p>
                <p><strong>Fecha:</strong> {{ reserva.fecha_reserva|date:"d/m/Y" }} - <strong>Hora:</strong> {{ reserva.hora_reserva|time:"H:i" }}</p>
                <p><strong>Personas:</strong> {{ reserva.numero_personas }}</p>
            </div>

            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
            {% endif %}

            <form method="post">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="{{ form.nombre_completo.id_for_label }}">👤 Nombre Completo</label>
                    {{ form.nombre_completo }}
                    {% if form.nombre_completo.errors %}
                        <div style="color: red; font-size: 14px;">{{ form.nombre_completo.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.telefono.id_for_label }}">📱 Teléfono</label>
                            {{ form.telefono }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.email.id_for_label }}">📧 Email</label>
                            {{ form.email }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.fecha_reserva.id_for_label }}">📅 Nueva Fecha</label>
                            {{ form.fecha_reserva }}
                            {% if form.fecha_reserva.errors %}
                                <div style="color: red; font-size: 14px;">{{ form.fecha_reserva.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.hora_reserva.id_for_label }}">🕐 Nueva Hora</label>
                            {{ form.hora_reserva }}
                            {% if form.hora_reserva.errors %}
                                <div style="color: red; font-size: 14px;">{{ form.hora_reserva.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="{{ form.numero_personas.id_for_label }}">👥 Número de Personas</label>
                    {{ form.numero_personas }}
                    {% if form.numero_personas.errors %}
                        <div style="color: red; font-size: 14px;">{{ form.numero_personas.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.observaciones.id_for_label }}">📝 Observaciones</label>
                    {{ form.observaciones }}
                </div>

                <button type="submit" class="btn-primary">
                    ✅ Guardar Cambios
                </button>
                
                <a href="/reservas/consultar/" class="btn-secondary">
                    ❌ Cancelar Edición
                </a>
            </form>
        </div>
    </div>

    <script src="{% static 'js/reservas/editar.js' %}"></script>
</body>
</html>