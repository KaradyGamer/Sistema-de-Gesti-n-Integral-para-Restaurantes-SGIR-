# ========================================
# SGIR - Configuración del Sistema
# ========================================

# === CONFIGURACIÓN GENERAL ===
# ⚠️ SEGURIDAD: SECRET_KEY rotada el 2025-11-12 (auditoría v38.8)
# NO COMPARTIR esta key. Regenerar si se compromete.
SECRET_KEY=m#0qfxoere$@a92_0a5+iplqb+p6k#+@*s32&v)49prszg70=%
DEBUG=True

# Hosts permitidos (separados por coma)
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0,192.168.0.179,10.165.187.107

# === SEGURIDAD Y CORS ===
# Orígenes permitidos para CORS (separados por coma)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8000,http://127.0.0.1:8000,http://192.168.0.179:8000,http://10.165.187.107:8000

# Orígenes confiables para CSRF (separados por coma)
CSRF_TRUSTED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000,http://192.168.0.179:8000,http://10.165.187.107:8000

# === COOKIES Y SESIONES ===
# ⚠️ CSRF_COOKIE_HTTPONLY=False necesario para que JavaScript lea el token
# Django envía el token en la cookie, JavaScript lo lee y lo envía en X-CSRFToken header
# Alternativa segura: usar {% csrf_token %} en forms y meta tags para AJAX
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=False

# Producción con HTTPS (descomentar cuando tengas certificado SSL)
# SESSION_COOKIE_SECURE=True
# CSRF_COOKIE_SECURE=True
# SESSION_COOKIE_SAMESITE=Strict
# CSRF_COOKIE_SAMESITE=Strict

# === BASE DE DATOS ===
DATABASE_URL=sqlite:///db.sqlite3

# === CÓDIGOS QR ===
# URL del servidor para códigos QR (sin http://)
# Cambiar según la red: localhost:8000, IP_LOCAL:8000, o tu-dominio.com
QR_HOST=10.165.187.107:8000

# === JWT TOKENS ===
# Tiempo de vida de tokens de acceso (en minutos)
JWT_ACCESS_TOKEN_LIFETIME=60
# Tiempo de vida de tokens de refresco (en días)
JWT_REFRESH_TOKEN_LIFETIME=14

# === PRODUCCIÓN ===
# Descomentar en producción
# SECURE_SSL_REDIRECT=True
# SECURE_HSTS_SECONDS=31536000
# SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# SECURE_HSTS_PRELOAD=True
