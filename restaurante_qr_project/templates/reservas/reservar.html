{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservar Mesa - Restaurante</title>
    <link rel="stylesheet" href="{% static 'css/reservas/reservar.css' %}">
</head>
<body>
    <div class="navigation">
        <a href="/reservas/consultar/">🔍 Consultar Reserva</a>
    </div>

    <div class="container">
        <div class="card">
            <div class="header">
                <h1>🍽️ Reservar Mesa</h1>
                <p>Completa el formulario para reservar tu mesa</p>
            </div>

            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
            {% endif %}

            <form method="post" id="reservaForm">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="{{ form.numero_carnet.id_for_label }}">📄 Número de Carnet/CI</label>
                    {{ form.numero_carnet }}
                    {% if form.numero_carnet.errors %}
                        <div style="color: red; font-size: 14px;">{{ form.numero_carnet.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="{{ form.nombre_completo.id_for_label }}">👤 Nombre Completo</label>
                    {{ form.nombre_completo }}
                    {% if form.nombre_completo.errors %}
                        <div style="color: red; font-size: 14px;">{{ form.nombre_completo.errors.0 }}</div>
                    {% endif %}
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.telefono.id_for_label }}">📱 Teléfono (Opcional)</label>
                            {{ form.telefono }}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.email.id_for_label }}">📧 Email (Opcional)</label>
                            {{ form.email }}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.fecha_reserva.id_for_label }}">📅 Fecha de Reserva</label>
                            {{ form.fecha_reserva }}
                            {% if form.fecha_reserva.errors %}
                                <div style="color: red; font-size: 14px;">{{ form.fecha_reserva.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <label for="{{ form.hora_reserva.id_for_label }}">🕐 Hora de Reserva</label>
                            {{ form.hora_reserva }}
                            {% if form.hora_reserva.errors %}
                                <div style="color: red; font-size: 14px;">{{ form.hora_reserva.errors.0 }}</div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="{{ form.numero_personas.id_for_label }}">👥 Número de Personas</label>
                    {{ form.numero_personas }}
                    {% if form.numero_personas.errors %}
                        <div style="color: red; font-size: 14px;">{{ form.numero_personas.errors.0 }}</div>
                    {% endif %}
                </div>

                <div id="mesasDisponibles" class="mesas-disponibles" style="display: none;">
                    <h4>Mesas Disponibles:</h4>
                    <div id="listaMesas"></div>
                </div>

                <div class="form-group">
                    <label for="{{ form.observaciones.id_for_label }}">📝 Observaciones (Opcional)</label>
                    {{ form.observaciones }}
                </div>

                <button type="submit" class="btn-primary">
                    ✅ Confirmar Reserva
                </button>
            </form>
        </div>
    </div>

    <script src="{% static 'js/reservas/reservar.js' %}"></script>
</body>
</html>