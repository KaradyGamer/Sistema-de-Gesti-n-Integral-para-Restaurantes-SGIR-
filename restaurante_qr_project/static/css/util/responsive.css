/* ========================================
   SGIR - Utilidades Responsive
   Mejoras para móvil, tablet y desktop
   ======================================== */

/* === CONTENEDORES === */
.table-responsive {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    border-radius: 8px;
}

.img-fluid {
    max-width: 100%;
    height: auto;
    display: block;
}

.container-fluid {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
    padding: 0 15px;
}

/* === OVERFLOW PREVENTION === */
* {
    box-sizing: border-box;
}

html {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
}

body {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
    overflow-y: auto;
}

/* === UTILIDADES DE PANTALLA === */
.hide-xs { display: none !important; }
.show-xs { display: block !important; }

/* === RESPONSIVE BREAKPOINTS === */

/* Tablets y dispositivos pequeños (≤768px) */
@media (max-width: 768px) {
    .hide-sm {
        display: none !important;
    }

    .show-sm {
        display: block !important;
    }

    .stack-sm {
        display: block !important;
        width: 100% !important;
        margin-bottom: 10px;
    }

    /* Tablas responsive en móvil */
    table {
        font-size: 0.875rem;
    }

    /* Reducir padding en móvil */
    .container-fluid {
        padding: 0 10px;
    }

    /* Botones full-width en móvil */
    .btn-block-sm {
        display: block;
        width: 100%;
        margin-bottom: 10px;
    }

    /* Grids a columna única */
    .grid-sm-1 {
        grid-template-columns: 1fr !important;
    }
}

/* Móviles pequeños (≤576px) */
@media (max-width: 576px) {
    .hide-xs {
        display: none !important;
    }

    .show-xs {
        display: block !important;
    }

    .stack-xs {
        display: block !important;
        width: 100% !important;
    }

    /* Texto más pequeño en móviles */
    body {
        font-size: 14px;
    }

    h1 { font-size: 1.75rem; }
    h2 { font-size: 1.5rem; }
    h3 { font-size: 1.25rem; }
    h4 { font-size: 1.1rem; }
}

/* Desktop (≥992px) */
@media (min-width: 992px) {
    .hide-md {
        display: none !important;
    }

    .show-md {
        display: block !important;
    }
}

/* === FLEXBOX UTILITIES === */
.flex-wrap {
    flex-wrap: wrap;
}

.flex-nowrap {
    flex-wrap: nowrap;
}

.flex-column-sm {
    @media (max-width: 768px) {
        flex-direction: column;
    }
}

/* === SPACING UTILITIES === */
.p-sm { padding: 0.5rem; }
.p-md { padding: 1rem; }
.p-lg { padding: 1.5rem; }

.m-sm { margin: 0.5rem; }
.m-md { margin: 1rem; }
.m-lg { margin: 1.5rem; }

/* === TEXT UTILITIES === */
.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* === CARD RESPONSIVE === */
.card-responsive {
    width: 100%;
    max-width: 100%;
    overflow: hidden;
}

@media (max-width: 768px) {
    .card-responsive {
        margin-bottom: 15px;
    }
}

/* === FORMS RESPONSIVE === */
@media (max-width: 768px) {
    input, select, textarea {
        font-size: 16px; /* Evita zoom en iOS */
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-row {
        flex-direction: column;
    }

    .form-row > * {
        width: 100%;
        margin-bottom: 10px;
    }
}

/* === TABLAS OVERFLOW FIX === */
table {
    max-width: 100%;
    width: 100%;
}

th, td {
    padding: 8px 12px;
    word-break: break-word;
}

@media (max-width: 768px) {
    th, td {
        padding: 6px 8px;
        font-size: 0.85rem;
    }

    /* Ocultar columnas secundarias en móvil si tienen clase hide-sm */
    .hide-sm {
        display: none !important;
    }
}

/* === MODAL RESPONSIVE === */
.modal-content {
    max-width: 95vw;
    max-height: 95vh;
    overflow-y: auto;
}

@media (max-width: 768px) {
    .modal-content {
        width: 95vw;
        margin: 10px;
    }
}

/* === SIDEBAR RESPONSIVE === */
@media (max-width: 768px) {
    .sidebar {
        width: 100% !important;
        position: fixed !important;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        z-index: 1000;
    }

    .sidebar.active {
        transform: translateX(0);
    }

    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
    }
}

/* === PRINT STYLES === */
@media print {
    .no-print {
        display: none !important;
    }

    .table-responsive {
        overflow: visible;
    }

    body {
        font-size: 12pt;
    }
}
